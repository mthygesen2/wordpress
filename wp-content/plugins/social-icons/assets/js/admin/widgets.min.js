jQuery(function(a){function b(a){a.find(".social-icons-list").sortable({items:"li",cursor:"move",axis:"y",handle:"span.socicon",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65})}a(document.body).on("si-init-hidden-options",function(){a("input.show_label").change(function(){var b=a(this).parents(".widget-content").find(".social-icons-list");a(this).is(":checked")?b.removeClass("hide-icons-label"):b.addClass("hide-icons-label")}).change()}).trigger("si-init-hidden-options"),a(document.body).on("click",".social-icons-add-button button",function(b){b.preventDefault();var c=a(this).parents(".widget-content").find(".social-icons-list"),d=c.data("url-field-id"),e=c.data("url-field-name"),f=c.data("label-field-id"),g=c.data("label-field-name"),h=a(a.trim(a("#tmpl-social-icons-field").html()));h.find(".social-icons-field-url").attr("id",d).attr("name",e+"[]"),h.find(".social-icons-field-label").attr("id",f).attr("name",g+"[]"),c.append(h),c.last().find("input:first-child").trigger("focus"),a(this).parents(".widget-content").find(".social-icons-list:last input:first-child").trigger("focus")}),a(document.body).on("keyup",".social-icons-field-url",function(){var b=a(this),c=b.val().toLowerCase(),d=!1;-1!==c.indexOf("feed")?(b.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle socicon socicon-rss"),d=!0):-1!==c.indexOf("vk.com")?(b.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle socicon socicon-vkontakte"),d=!0):-1!==c.indexOf("last.fm")?(b.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle socicon socicon-lastfm"),d=!0):-1!==c.indexOf("youtu.be")?(b.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle socicon socicon-youtube"),d=!0):-1!==c.indexOf("play.google.com")?(b.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle socicon socicon-play"),d=!0):-1!==c.indexOf("plus.google.com")?(b.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle socicon socicon-googleplus"),d=!0):-1!==c.indexOf("feedburner.google.com")?(b.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle socicon socicon-mail"),d=!0):a(social_icons_admin_widgets.allowed_socicons).each(function(a,e){return-1!==c.indexOf(e)?(b.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle socicon socicon-"+e),void(d=!0)):void 0}),d?a(".social-icons-add-button").find("button").removeAttr("disabled"):(b.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle dashicons dashicons-plus"),a(".social-icons-add-button").find("button").attr("disabled","disabled"))}),a(document.body).on("click",".social-icons-field-remove",function(b){b.preventDefault(),a(this).parents(".social-icons-field").remove()}),a(document.body).on("click","div.widget[id*=themegrill_social_icons] .widget-title, div.widget[id*=themegrill_social_icons] .widget-title-action",function(){a(this).parents("#available-widgets").length||b(a(this).parents(".widget[id*=themegrill_social_icons]"))}),a(document).on("widget-added widget-updated",function(c,d){d.is("[id*=themegrill_social_icons]")&&(c.preventDefault(),b(d)),a(document.body).trigger("si-init-hidden-options")})});